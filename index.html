<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>redistributed | End Starvation Calculator</title>
    <meta name="description" content="Advocacy tool showing how a fraction (often less than 1%) of military expenditure, tax abuse, luxury spending, and other global resources could end starvation.">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://redistributed.net">
    <meta name="theme-color" content="#1a1a1a">
    <meta property="og:url" content="https://redistributed.net">
    <meta property="og:type" content="website">
    <meta property="og:title" content="End Starvation Calculator">
    <meta property="og:description" content="We have the money to end starvation. We choose not to.">
    <meta property="og:site_name" content="redistributed">
    <meta property="og:image" content="https://redistributed.net/end-starvation-calculator.jpg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:domain" content="redistributed.net">
    <meta name="twitter:url" content="https://redistributed.net">
    <meta name="twitter:title" content="End Starvation Calculator">
    <meta name="twitter:description" content="We have the money to end starvation. We choose not to.">
    <meta name="twitter:image" content="https://redistributed.net/end-starvation-calculator.jpg">
    <meta property="og:locale" content="en_US">
    <meta name="author" content="redistributed">
    <link rel="preload" href="fonts/JetBrainsMono-Regular.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="fonts/JetBrainsMono-Medium.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="fonts/JetBrainsMono-SemiBold.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="fonts/JetBrainsMono-Bold.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="fonts/Prata-Regular.ttf" as="font" type="font/ttf" crossorigin>
    <style>
        html {
            background-color: #0a0a0a;
        }

        @font-face {
            font-family: 'JetBrains Mono';
            src: url('fonts/JetBrainsMono-Regular.woff2') format('woff2');
            font-weight: 400;
            font-style: normal;
            font-display: block;
        }

        @font-face {
            font-family: 'JetBrains Mono';
            src: url('fonts/JetBrainsMono-Medium.woff2') format('woff2');
            font-weight: 500;
            font-style: normal;
            font-display: block;
        }

        @font-face {
            font-family: 'JetBrains Mono';
            src: url('fonts/JetBrainsMono-SemiBold.woff2') format('woff2');
            font-weight: 600;
            font-style: normal;
            font-display: block;
        }

        @font-face {
            font-family: 'JetBrains Mono';
            src: url('fonts/JetBrainsMono-Bold.woff2') format('woff2');
            font-weight: 700;
            font-style: normal;
            font-display: block;
        }

        @font-face {
            font-family: 'Prata';
            src: url('fonts/Prata-Regular.ttf') format('truetype');
            font-weight: 400;
            font-style: normal;
            font-display: block;
        }

        .icon {
            width: 1em;
            height: 1em;
            display: inline-block;
            vertical-align: -0.125em;
        }

        :root {
            --bg: #0a0a0a;
            --surface: #1a1a1a;
            --text-primary: #ffffff;
            --text-secondary: #bbbbbb;
            --text-tertiary: #888888;
            --border: #333333;
            --fill-color: rgba(255, 255, 255, 0.5);
            --shadow-dark: rgba(0, 0, 0, 0.6);
            --shadow-light: rgba(255, 255, 255, 0.06);
            --track-height: 6px;
            --font-size-support: 0.8rem;
            --font-size-tertiary: 0.8rem;
            --neuro-duration: 0s;
            --combine-duration: 0s;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'JetBrains Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace;
            background-color: var(--bg);
            color: var(--text-primary);
            line-height: 1.6;
            font-weight: 400;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .container {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 3rem;
            display: flex;
            flex-direction: column;
            gap: 0;
        }

        .title {
            font-size: clamp(2.8rem, 5.1vw, 4.4rem);
            font-weight: 700;
            margin-bottom: 0;
            color: var(--text-primary);
            font-family: 'Prata', serif;
        }

        .subtitle {
            font-size: clamp(0.75rem, 1vw, 1.2rem);
            font-weight: 400;
            color: var(--text-secondary);
            max-width: 40ch;
            margin: 0 auto;
            line-height: 1.4;
            font-family: 'JetBrains Mono', monospace;
        }

        .main-content {
            width: 100%;
            max-width: 800px;
        }

        .section-cta {
            font-size: 1rem;
            font-weight: 500;
            color: var(--text-primary);
            text-transform: uppercase;
            text-align: center;
            margin-bottom: 3rem;
            padding-bottom: 0.75rem;
            border-bottom: 1px solid var(--border);
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .controls-results {
            background-color: var(--surface);
            border: 1px solid var(--border);
            border-radius: 1rem;
            padding: clamp(1.5rem, 4vw, 3rem);
            margin-bottom: 2rem;
        }

        .control-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 3rem;
        }

        .control-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
            max-width: 290px;
        }

        .custom-dropdown {
            position: relative;
            width: 100%;
        }

        .dropdown-toggle {
            width: 100%;
            padding: 1rem 1.25rem;
            background-color: var(--surface);
            border: 1px solid var(--border);
            border-radius: 0.5rem;
            color: var(--text-primary);
            font-size: 1rem;
            font-weight: 400;
            font-family: 'JetBrains Mono', monospace;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s ease;
            appearance: none;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 0.5rem;
        }

        .dropdown-toggle::after {
            content: '\25BC';
            font-size: 0.75rem;
            color: var(--text-secondary);
            transition: transform 0.2s ease;
        }

        .dropdown-toggle.open::after {
            transform: rotate(180deg);
        }

        .dropdown-menu {
            position: absolute;
            top: calc(100% + 0.5rem);
            left: 0;
            width: 100%;
            list-style: none;
            background-color: var(--surface);
            border: 1px solid var(--border);
            border-radius: 0.5rem;
            padding: 0.5rem 0;
            z-index: 10;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: opacity 0.2s ease, transform 0.2s ease, visibility 0.2s ease;
        }

        .dropdown-menu.open {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .dropdown-menu li {
            padding: 0.5rem 1.25rem;
            color: var(--text-secondary);
            cursor: pointer;
            text-align: center;
            transition: color 0.2s ease;
        }

        @media (hover: hover) and (pointer: fine) {
            .dropdown-menu li:hover {
                color: var(--text-primary);
            }
        }

        .control-label {
            display: block;
            width: 100%;
            max-width: 200px;
            font-size: var(--font-size-support);
            font-weight: 500;
            color: var(--text-secondary);
            text-transform: uppercase;
            margin: 0 auto 0.75rem auto;
            background-color: var(--surface);
            border-radius: 0.375rem;
            box-shadow: inset 1px 1px 2px var(--shadow-dark), inset -1px -1px 2px var(--shadow-light);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            text-align: center;
            padding: 0.5rem 0.75rem;
        }

        .slider-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1rem;
            margin-bottom: 3rem;
            width: 100%;
        }

        .neuro-slider-container {
            width: 100%;
            max-width: 600px;
            position: relative;
        }

        .neuro-slider {
            position: relative;
            width: 100%;
            height: 24px;
            cursor: pointer;
        }

        .neuro-track {
            position: absolute;
            top: 50%;
            left: 0;
            width: 100%;
            height: var(--track-height);
            background: var(--surface);
            border-radius: 3px;
            transform: translateY(-50%);
            box-shadow: inset 2px 2px 4px var(--shadow-dark), inset -2px -2px 4px var(--shadow-light);
            overflow: hidden;
        }

        .neuro-fill {
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            background: var(--fill-color);
            width: 0%;
            border-radius: 3px;
        }

        .neuro-thumb,
        .neuro-fill {
            transition: left var(--neuro-duration, 0s) linear, width var(--neuro-duration, 0s) linear;
        }

        .neuro-thumb {
            position: absolute;
            top: 50%;
            width: 32px;
            height: 32px;
            background: var(--surface);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            cursor: pointer;
            box-shadow: 4px 4px 8px var(--shadow-dark), -4px -4px 8px var(--shadow-light);
            z-index: 2;
        }

        .neuro-thumb::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: var(--track-height);
            height: var(--track-height);
            background: var(--fill-color);
            border-radius: 50%;
            transform: translate(-50%, -50%);
        }

        .results-grid {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            align-items: center;
            width: 100%;
        }

        .result-item {
            text-align: center;
            flex: 1;
            max-width: 300px;
        }

        .result-value {
            font-size: clamp(2.8rem, 4.5vw, 4rem);
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 1rem;
            line-height: 1;
            letter-spacing: -0.02em;
        }

        .result-label {
            display: block;
            width: 100%;
            max-width: 200px;
            font-size: var(--font-size-support);
            font-weight: 500;
            color: var(--text-secondary);
            text-transform: uppercase;
            margin: 0 auto 0.75rem auto;
            background-color: var(--surface);
            border-radius: 0.375rem;
            box-shadow: inset 1px 1px 2px var(--shadow-dark), inset -1px -1px 2px var(--shadow-light);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            text-align: center;
            padding: 0.5rem 0.75rem;
        }

        .share-section {
            background-color: var(--surface);
            border: 1px solid var(--border);
            border-radius: 1rem;
            padding: clamp(1.5rem, 4vw, 3rem);
            text-align: center;
        }

        .share-title {
            font-size: 1rem;
            font-weight: 500;
            color: var(--text-primary);
            text-transform: uppercase;
            margin-bottom: 2rem;
            padding-bottom: 0.75rem;
            border-bottom: 1px solid var(--border);
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .social-links {
            display: flex;
            justify-content: center;
            gap: 1rem;
        }

        .social-link {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 48px;
            height: 48px;
            background-color: var(--surface);
            border: 1px solid var(--border);
            border-radius: 0.5rem;
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 1.25rem;
            transition: all 0.2s ease;
        }

        @media (hover: hover) and (pointer: fine) {
            .social-link:hover {
                color: var(--text-primary);
            }
        }

        .footer {
            margin-top: 0rem;
            text-align: center;
            padding-top: 1.5rem;
        }

        .footer-links {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.875rem;
        }

        .footer-line-1 {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 0.5rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            font-weight: 500;
        }

        .footer-line-2 {
            color: var(--text-tertiary);
            font-weight: 400;
            display: flex;
            align-items: center;
            justify-content: center;
            line-height: 1;
            font-size: 0.8rem;
        }

        .conversion-note {
            font-size: var(--font-size-tertiary);
            color: var(--text-tertiary);
        }

        .footer-links a {
            color: var(--text-secondary);
            text-decoration: none;
            transition: color 0.2s ease;
        }

        .footer-links a:hover {
            color: var(--text-primary);
        }

        .footer-line-1 .support-link {
            color: var(--text-primary);
            font-weight: 500;
            text-transform: uppercase;
            text-decoration: none;
            transition: color 0.2s ease;
            cursor: pointer;
        }

        .footer-line-1 .support-link:hover {
            color: var(--text-secondary);
        }

        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            backdrop-filter: blur(4px);
        }

        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: var(--surface);
            border: 1px solid var(--border);
            border-radius: 0.75rem;
            padding: 2rem;
            max-width: 600px;
            width: 90%;
        }

        .modal-content-small {
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            max-height: calc(100vh - 4rem);
            overflow-y: auto;
        }

        .modal-content-small::-webkit-scrollbar {
            width: 8px;
        }

        .modal-content-small::-webkit-scrollbar-track {
            background: var(--surface-elevated);
            border-radius: 4px;
        }

        .modal-content-small::-webkit-scrollbar-thumb {
            background-color: var(--border);
            border-radius: 4px;
            border: 2px solid var(--surface-elevated);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .modal-title {
            font-size: 1.125rem;
            font-weight: 600;
            color: var(--text-primary);
            font-family: 'JetBrains Mono', monospace;
        }

        .modal-close {
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            padding: 0;
            border-radius: 50%;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 30px;
            height: 30px;
            line-height: 1;
            background-color: var(--surface-elevated);
            border: 1px solid var(--border);
            position: relative;
            transform: translateY(-1px);
        }

        .modal-close:hover {
            color: var(--text-primary);
        }

        .icon-button {
            font-family: 'JetBrains Mono', monospace;
            font-size: 1rem;
            font-weight: 500;
        }

        .modal-text {
            color: var(--text-secondary);
            line-height: 1.6;
            margin-bottom: 1.5rem;
            font-size: 0.9rem;
            font-family: 'JetBrains Mono', monospace;
        }

        .modal-text>* {
            margin-bottom: 1.25rem;
        }

        .modal-text>*:last-child {
            margin-bottom: 0;
        }

        .modal-source {
            font-weight: 500;
            color: var(--text-primary);
        }

        .modal-detail-section {
            margin-bottom: 1rem;
        }

        .modal-detail-label {
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 0.25rem;
            font-family: 'JetBrains Mono', monospace;
        }

        .modal-detail-value {
            color: var(--text-secondary);
            margin-bottom: 0.75rem;
            font-family: 'JetBrains Mono', monospace;
        }

        .modal-detail-value.no-margin {
            margin-bottom: 0;
        }

        .info-icon {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 30px;
            height: 30px;
            background-color: var(--surface);
            border: 1px solid var(--border);
            border-radius: 50%;
            color: var(--text-secondary);
            cursor: pointer;
            margin-top: 0.5rem;
            margin-left: auto;
            margin-right: auto;
            transition: all 0.2s ease;
        }

        .info-icon:hover {
            color: var(--text-primary);
        }

        .dropdown-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            backdrop-filter: blur(4px);
            -webkit-backdrop-filter: blur(4px);
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 15;
            pointer-events: none;
        }

        .dropdown-overlay.active {
            display: block;
        }

        .custom-dropdown {
            position: relative;
            z-index: 20;
        }

        .dropdown-menu {
            z-index: 25;
        }

        .combine-sliders-container {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
            margin-bottom: 3rem;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .combine-slider-item {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .combine-slider-header {
            display: flex;
            justify-content: space-between;
        }

        .combine-slider-label {
            font-size: var(--font-size-support);
            font-weight: 500;
            color: var(--text-secondary);
        }

        .combine-slider-value {
            font-size: var(--font-size-support);
            font-weight: 700;
            color: var(--text-primary);
            min-width: 60px;
            text-align: right;
        }

        .combine-slider {
            position: relative;
            height: 16px;
            cursor: pointer;
        }

        .combine-track {
            position: absolute;
            top: 50%;
            width: 100%;
            height: var(--track-height);
            background: var(--surface);
            border-radius: 3px;
            transform: translateY(-50%);
            box-shadow: inset 2px 2px 4px var(--shadow-dark), inset -2px -2px 4px var(--shadow-light);
        }

        .combine-fill {
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            background: var(--fill-color);
            width: 0%;
            border-radius: 3px;
        }

        .combine-thumb,
        .combine-fill {
            transition: left var(--combine-duration, 0s) linear, width var(--combine-duration, 0s) linear;
        }

        .combine-thumb {
            position: absolute;
            top: 50%;
            left: 0%;
            width: 16px;
            height: 16px;
            background: var(--surface);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            cursor: pointer;
            box-shadow: 2px 2px 4px var(--shadow-dark), -2px -2px 4px var(--shadow-light);
            z-index: 2;
        }

        .combine-thumb::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 4px;
            height: 4px;
            background: var(--fill-color);
            border-radius: 50%;
            transform: translate(-50%, -50%);
        }

        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }
            .header {
                margin-bottom: 3rem;
            }
            .section-cta,
            .share-title {
                font-size: clamp(0.75rem, 1.8vw, 0.85rem);
            }
            .share-title {
                margin-bottom: 1.5rem;
                padding-bottom: 0.75rem;
                border-bottom: 1px solid var(--border);
                max-width: 600px;
                margin-left: auto;
                margin-right: auto;
            }
            .section-cta {
                margin-bottom: 2.5rem;
            }
            .control-label,
            .result-label,
            .footer-line-1 a {
                font-size: clamp(10px, 2.2vw, 12px);
            }
            .controls-results {
                padding: 2rem 1.5rem;
                margin-bottom: 1.5rem;
            }
            .control-section {
                margin-bottom: 2rem;
            }
            .control-item {
                max-width: 282px;
            }
            .dropdown-toggle {
                padding: 1.4rem 1.5rem;
                font-size: 0.95rem;
            }
            .control-label {
                margin-bottom: 1rem;
                max-width: 220px;
                padding: 0.5rem 0.75rem;
            }
            .slider-section {
                margin-bottom: 2rem;
                gap: 1.5rem;
            }
            .neuro-slider-container {
                max-width: none;
                padding: 0 1.5rem;
            }
            .neuro-thumb {
                width: 32px;
                height: 32px;
            }
            .results-grid {
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 2rem;
                width: 100%;
            }
            .result-item {
                text-align: center;
                width: 100%;
                max-width: 280px;
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 0.75rem;
            }
            .result-value {
                font-size: clamp(2.2rem, 8vw, 3.2rem);
                margin-bottom: 0;
            }
            .result-label {
                margin: 0;
                max-width: 220px;
            }
            .info-icon {
                margin: 0;
                width: 28px;
                height: 28px;
            }
            .share-section {
                padding: 2rem 1.5rem;
            }
            .share-title {
                margin-bottom: 1.5rem;
            }
            .social-links {
                gap: 1rem;
            }
            .social-link {
                width: 48px;
                height: 48px;
            }
            .footer-line-1 {
                flex-direction: row;
                flex-wrap: nowrap;
                justify-content: center;
                gap: 0.3rem;
            }
            .footer-line-1 span {
                display: inline;
            }
            .footer-line-1 a {
                font-size: 12px;
                line-height: 1.4;
            }
            .footer-line-2 {
                display: none;
            }
            .modal-content {
                padding: 2rem;
                width: 92%;
                max-width: 500px;
            }
            .modal-content-small {
                max-height: calc(100vh - 3rem);
                padding: 2rem;
                width: 92%;
                max-width: 500px;
            }
            .combine-sliders-container {
                gap: 1.25rem;
                margin-bottom: 2rem;
            }
            .combine-slider-item {
                gap: 0.75rem;
            }
            .combine-slider-label,
            .combine-slider-value {
                font-size: clamp(10px, 2.2vw, 12px);
                font-weight: 700;
                color: var(--text-primary);
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 0.75rem;
            }
            .header {
                margin-bottom: 2.5rem;
            }
            .controls-results,
            .share-section {
                padding: 1.5rem 1rem;
            }
            .results-grid {
                gap: 1.5rem;
            }
            .result-value {
                font-size: clamp(2rem, 10vw, 2.8rem);
            }
            .result-item {
                max-width: 260px;
            }
            .neuro-slider-container {
                padding: 0 1.5rem;
            }
            .dropdown-toggle {
                padding: 1.4rem 1.25rem;
                font-size: 0.9rem;
            }
            .social-links {
                gap: 0.75rem;
            }
            .social-link {
                width: 44px;
                height: 44px;
            }
            .control-label {
                max-width: 220px;
                padding: 0.5rem 0.75rem;
            }
            .modal-content,
            .modal-content-small {
                width: 95%;
                padding: 1.5rem;
            }
            .combine-sliders-container {
                gap: 1rem;
            }
            .combine-slider {
                height: 14px;
            }
        }

        a,
        button,
        .dropdown-toggle,
        .dropdown-menu li,
        .modal-close,
        .info-icon {
            transition: color 0.2s ease, background-color 0.2s ease, opacity 0.2s ease;
        }

        .visually-hidden {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }
    </style>
    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@graph": [{
                    "@type": "WebSite",
                    "@id": "https://redistributed.net/#website",
                    "name": "redistributed",
                    "url": "https://redistributed.net",
                    "description": "Advocacy tool showing how a fraction (often less than 1%) of military expenditure, tax abuse, luxury spending, and other global resources could end starvation.",
                    "inLanguage": "en-US",
                    "publisher": {
                        "@type": "Organization",
                        "@id": "https://redistributed.net/#organization",
                        "name": "redistributed",
                        "url": "https://redistributed.net",
                        "description": "Advocacy tool showing how a fraction (often less than 1%) of military expenditure, tax abuse, luxury spending, and other global resources could end starvation.",
                        "foundingDate": "2025",
                        "knowsAbout": [
                            "Global Hunger",
                            "Food Crisis",
                            "Food Insecurity",
                            "IPC Phase 4 (Emergency)",
                            "IPC Phase 5 (Catastrophe)",
                            "Resource Redistribution",
                            "Advocacy"
                        ],
                        "areaServed": "Worldwide",
                        "sameAs": [
                            "https://x.com/_redistributed_",
                            "https://www.facebook.com/redistributed.net"
                        ]
                    }
                },
                {
                    "@type": "WebPage",
                    "@id": "https://redistributed.net/#webpage",
                    "url": "https://redistributed.net",
                    "name": "End Starvation Calculator",
                    "description": "Advocacy tool showing how a fraction (often less than 1%) of military expenditure, tax abuse, luxury spending, and other global resources could end starvation.",
                    "isPartOf": {
                        "@id": "https://redistributed.net/#website"
                    },
                    "about": {
                        "@id": "https://redistributed.net/#calculator"
                    },
                    "inLanguage": "en-US"
                },
                {
                    "@type": "SoftwareApplication",
                    "@id": "https://redistributed.net/#calculator",
                    "applicationCategory": "UtilityApplication",
                    "applicationSubCategory": "Calculator",
                    "name": "End Starvation Calculator",
                    "description": "Advocacy tool showing how a fraction (often less than 1%) of military expenditure, tax abuse, luxury spending, and other global resources could end starvation.",
                    "keywords": "food insecurity calculator, hunger calculator, starvation calculator, IPC Phase 4, IPC Phase 5, resource redistribution, advocacy tool",
                    "url": "https://redistributed.net",
                    "operatingSystem": "Web browser",
                    "isAccessibleForFree": true,
                    "offers": {
                        "@type": "Offer",
                        "price": "0",
                        "priceCurrency": "USD"
                    },
                    "featureList": [
                        "Six global resource sources to redistribute",
                        "Single or combined source scenarios",
                        "Real-time starvation reduction calculations",
                        "Social media sharing"
                    ]
                },
                {
                    "@type": "HowTo",
                    "@id": "https://redistributed.net/#howto",
                    "name": "How to Calculate Starvation Impact",
                    "description": "Calculate how redistributing global resources could end starvation in four simple steps",
                    "totalTime": "PT2M",
                    "step": [{
                            "@type": "HowToStep",
                            "position": 1,
                            "name": "Pick a source",
                            "text": "Choose from six global sources: military expenditure, food loss and waste, tax abuse, fossil fuel support, overall luxury spending, personal luxury spending.",
                            "url": "https://redistributed.net/#source-selection"
                        },
                        {
                            "@type": "HowToStep",
                            "position": 2,
                            "name": "Adjust percentage",
                            "text": "Use the slider to select what percentage of the resource to redistribute.",
                            "url": "https://redistributed.net/#percentage-slider"
                        },
                        {
                            "@type": "HowToStep",
                            "position": 3,
                            "name": "See the impact",
                            "text": "Watch how your selection impacts global starvation reduction in real-time.",
                            "url": "https://redistributed.net/#impact-results"
                        },
                        {
                            "@type": "HowToStep",
                            "position": 4,
                            "name": "Combine sources",
                            "text": "Optionally combine multiple sources to see cumulative impact.",
                            "url": "https://redistributed.net/#combine-sources"
                        }
                    ]
                },
                {
                    "@type": "FAQPage",
                    "@id": "https://redistributed.net/#faq",
                    "mainEntity": [{
                            "@type": "Question",
                            "name": "What is IPC Phase 4 and Phase 5 food insecurity?",
                            "acceptedAnswer": {
                                "@type": "Answer",
                                "text": "IPC Phase 4 (Emergency) and Phase 5 (Catastrophe) are the most severe classifications of food insecurity in the Integrated Food Security Phase Classification system. These phases affect 37 million people globally."
                            }
                        },
                        {
                            "@type": "Question",
                            "name": "How much would it cost to end starvation?",
                            "acceptedAnswer": {
                                "@type": "Answer",
                                "text": "US$6.75 billion annually. This calculation is based on feeding 37 million people experiencing IPC Phase 4 (Emergency) and Phase 5 (Catastrophe) food insecurity at US$0.50 per person per day, according to FSIN and WFP data."
                            }
                        },
                        {
                            "@type": "Question",
                            "name": "Why does it take less than 1% to make an impact?",
                            "acceptedAnswer": {
                                "@type": "Answer",
                                "text": "Global resources like military expenditure (US$2.718 trillion) and food loss and waste (US$1 trillion) are so large that even 0.25-0.5% of these amounts equals or exceeds the US$6.75 billion needed annually to end starvation."
                            }
                        },
                        {
                            "@type": "Question",
                            "name": "What sources does the calculator use?",
                            "acceptedAnswer": {
                                "@type": "Answer",
                                "text": "The calculator uses data from respected international organizations: SIPRI for military expenditure, FAO/UNEP for food loss and waste, Tax Justice Network for tax abuse, OECD for fossil fuel support, and Bain & Company/Fondazione Altagamma for luxury spending."
                            }
                        },
                        {
                            "@type": "Question",
                            "name": "How is the impact on starvation calculated?",
                            "acceptedAnswer": {
                                "@type": "Answer",
                                "text": "Impact on starvation (%) = Annual transferred resources (%) ÷ Annual cost of feeding the target population. The target population is 37 million people in IPC Phase 4-5 food insecurity, requiring US$6.75 billion annually."
                            }
                        }
                    ]
                }
            ]
        }
    </script>
    <script defer src="https://cloud.umami.is/script.js" data-website-id="0545e3d7-5d8b-46aa-b0c9-1cebb3524151"></script>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1 class="title">redistributed</h1>
            <p class="subtitle">We have the money to end starvation.<br>We choose not to.</p>
        </header>
        <div class="main-content">
            <section class="controls-results">
                <h2 class="section-cta">Pick a source, see the impact</h2>
                <div class="control-section">
                    <div class="control-item">
                        <div class="custom-dropdown">
                            <button id="dropdown-toggle" class="dropdown-toggle" data-value="military">Military expenditure</button>
                            <ul id="dropdown-menu" class="dropdown-menu">
                                <li data-value="military">Military expenditure</li>
                                <li data-value="foodwaste">Food loss and waste</li>
                                <li data-value="taxabuse">Tax abuse</li>
                                <li data-value="fossilfuel">Fossil fuel support</li>
                                <li data-value="overallluxury">Overall luxury spending</li>
                                <li data-value="personalluxury">Personal luxury spending</li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="slider-section">
                    <div class="neuro-slider-container">
                        <div class="neuro-slider" id="neuro-slider">
                            <div class="neuro-track">
                                <div class="neuro-fill" id="neuro-fill"></div>
                            </div>
                            <div class="neuro-thumb" id="neuro-thumb"></div>
                        </div>
                    </div>
                </div>
                <div class="results-grid">
                    <div class="result-item">
                        <div class="result-value" id="transfer-percentage">0.00%</div>
                        <div class="result-label">Resources transferred</div>
                        <div class="info-icon" id="transfer-info">i</div>
                    </div>
                    <div class="result-item">
                        <div class="result-value" id="reduction-value">0.00%</div>
                        <div class="result-label">Impact on starvation</div>
                        <div class="info-icon" id="reduction-info">i</div>
                    </div>
                </div>
            </section>
            <section class="controls-results">
                <h2 class="section-cta">Combine sources, see the impact</h2>
                <div class="combine-sliders-container">
                    <div class="combine-slider-item">
                        <div class="combine-slider-header">
                            <span class="combine-slider-label">Military expenditure</span>
                            <span class="combine-slider-value" id="combine-military-value">0.00%</span>
                        </div>
                        <div class="combine-slider" data-source="military">
                            <div class="combine-track">
                                <div class="combine-fill"></div>
                            </div>
                            <div class="combine-thumb"></div>
                        </div>
                    </div>
                    <div class="combine-slider-item">
                        <div class="combine-slider-header">
                            <span class="combine-slider-label">Food loss and waste</span>
                            <span class="combine-slider-value" id="combine-foodwaste-value">0.00%</span>
                        </div>
                        <div class="combine-slider" data-source="foodwaste">
                            <div class="combine-track">
                                <div class="combine-fill"></div>
                            </div>
                            <div class="combine-thumb"></div>
                        </div>
                    </div>
                    <div class="combine-slider-item">
                        <div class="combine-slider-header">
                            <span class="combine-slider-label">Tax abuse</span>
                            <span class="combine-slider-value" id="combine-taxabuse-value">0.00%</span>
                        </div>
                        <div class="combine-slider" data-source="taxabuse">
                            <div class="combine-track">
                                <div class="combine-fill"></div>
                            </div>
                            <div class="combine-thumb"></div>
                        </div>
                    </div>
                    <div class="combine-slider-item">
                        <div class="combine-slider-header">
                            <span class="combine-slider-label">Fossil fuel support</span>
                            <span class="combine-slider-value" id="combine-fossilfuel-value">0.00%</span>
                        </div>
                        <div class="combine-slider" data-source="fossilfuel">
                            <div class="combine-track">
                                <div class="combine-fill"></div>
                            </div>
                            <div class="combine-thumb"></div>
                        </div>
                    </div>
                    <div class="combine-slider-item">
                        <div class="combine-slider-header">
                            <span class="combine-slider-label">Overall luxury spending</span>
                            <span class="combine-slider-value" id="combine-overallluxury-value">0.00%</span>
                        </div>
                        <div class="combine-slider" data-source="overallluxury">
                            <div class="combine-track">
                                <div class="combine-fill"></div>
                            </div>
                            <div class="combine-thumb"></div>
                        </div>
                    </div>
                    <div class="combine-slider-item">
                        <div class="combine-slider-header">
                            <span class="combine-slider-label">Personal luxury spending</span>
                            <span class="combine-slider-value" id="combine-personalluxury-value">0.00%</span>
                        </div>
                        <div class="combine-slider" data-source="personalluxury">
                            <div class="combine-track">
                                <div class="combine-fill"></div>
                            </div>
                            <div class="combine-thumb"></div>
                        </div>
                    </div>
                </div>
                <div class="results-grid">
                    <div class="result-item">
                        <div class="result-value" id="combine-impact-value">0.00%</div>
                        <div class="result-label">Impact on starvation</div>
                        <div class="info-icon" id="combine-impact-info">i</div>
                    </div>
                </div>
            </section>
            <section class="share-section">
                <h3 class="share-title">Share your results, raise awareness</h3>
                <div class="social-links">
                    <a href="#" id="twitter-share" class="social-link" title="Share on X" target="_blank" rel="noopener">
                     <svg class="icon" viewBox="0 0 512 512">
                        <path fill="currentColor" d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z" />
                     </svg>
                  </a>
                    <a href="#" id="facebook-share" class="social-link" title="Share on Facebook" target="_blank" rel="noopener">
                     <svg class="icon" viewBox="0 0 512 512">
                        <path fill="currentColor" d="M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256C0 376 82.7 476.8 194.2 504.5V334.2H141.4V256h52.8V222.3c0-87.1 39.4-127.5 125-127.5c16.2 0 44.2 3.2 55.7 6.4V172c-6-.6-16.5-1-29.6-1c-42 0-58.2 15.9-58.2 57.2V256h83.6l-14.4 78.2H287V510.1C413.8 494.8 512 386.9 512 256h0z" />
                     </svg>
                  </a>
                    <a href="#" id="linkedin-share" class="social-link" title="Share on LinkedIn" target="_blank" rel="noopener">
                     <svg class="icon" viewBox="0 0 448 512">
                        <path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z" />
                     </svg>
                  </a>
                </div>
            </section>
        </div>
        <footer class="footer">
            <div class="footer-links">
                <div class="footer-line-1">
                    <a href="#" id="about-link">The math</a>
                    <span>•</span>
                    <a href="#" id="support-link">Support this project</a>
                    <span>•</span>
                    <a href="mailto:redistributed.net@gmail.com">Contact</a>
                </div>
                <div class="footer-line-2">© 2025 redistributed</div>
            </div>
        </footer>
    </div>
    <div id="about-modal" class="modal-overlay">
        <div class="modal-content modal-content-small">
            <div class="modal-header">
                <h3 class="modal-title">The math</h3>
                <button class="modal-close icon-button">&times;</button>
            </div>
            <div class="modal-text">
                <div class="modal-detail-section">
                    <div class="modal-detail-label">Calculation</div>
                    <div class="modal-detail-value no-margin">Annual transferred resources (%) ÷ Annual cost of feeding the target population = Impact on starvation (%)</div>
                </div>
                <div class="modal-detail-section">
                    <div class="modal-detail-label">Target population</div>
                    <div class="modal-detail-value">37 million people experiencing IPC Phase 4 (Emergency) and Phase 5 (Catastrophe) food insecurity, according to FSIN (Food Security Information Network)</div>
                </div>
                <div class="modal-detail-section">
                    <div class="modal-detail-label">Daily cost per person</div>
                    <div class="modal-detail-value">US$0.50 (one meal per day), according to WFP (UN World Food Programme)</div>
                </div>
                <div class="modal-detail-section">
                    <div class="modal-detail-label">Total annual cost</div>
                    <div class="modal-detail-value">US$6.75 billion (37M × 0.50 × 365)</div>
                </div>
                <p>All sources use the most recent data from respected international organizations.</p>
            </div>
        </div>
    </div>
    <div id="transfer-modal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Resources transferred</h3>
                <button class="modal-close icon-button">&times;</button>
            </div>
            <div class="modal-text">
                <div class="modal-detail-section">
                    <div class="modal-detail-label" id="transfer-name"></div>
                    <div class="modal-detail-value" id="transfer-includes"></div>
                </div>
                <div class="modal-detail-section">
                    <div class="modal-detail-label">Value</div>
                    <div class="modal-detail-value" id="transfer-value"></div>
                </div>
                <div class="modal-detail-section">
                    <div class="modal-detail-label">Source</div>
                    <div class="modal-detail-value" id="transfer-source"></div>
                </div>
            </div>
        </div>
    </div>
    <div id="reduction-modal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Impact on starvation</h3>
                <button class="modal-close icon-button">&times;</button>
            </div>
            <div class="modal-text">
                <div class="modal-detail-section">
                    <div class="modal-detail-label">Impact</div>
                    <div class="modal-detail-value">Percentage of starvation addressed</div>
                </div>
                <div class="modal-detail-section">
                    <div class="modal-detail-label">Starvation</div>
                    <div class="modal-detail-value">IPC Phase 4 (Emergency) and Phase 5 (Catastrophe)</div>
                </div>
                <div class="modal-detail-section">
                    <div class="modal-detail-label">Source</div>
                    <div class="modal-detail-value">FSIN (Food Security Information Network)</div>
                </div>
            </div>
        </div>
    </div>
    <div id="support-modal" class="modal-overlay">
        <div class="modal-content modal-content-small">
            <div class="modal-header">
                <h3 class="modal-title">Support this project</h3>
                <button class="modal-close icon-button">&times;</button>
            </div>
            <div class="modal-text">
                <p>This is an advocacy project. Your <a href="https://buy.stripe.com/3cI5kF2SA2Rw03wcYf87K00" target="_blank" rel="noopener" style="color: var(--text-primary); text-decoration: none;">support</a> helps keep the tool running, update data,
                    and expand its reach.</p>
            </div>
        </div>
    </div>
    <script>
        const data = {
            financialSources: {
                military: {
                    name: "Military expenditure",
                    shareableName: "military expenditure",
                    total: 2718000000000,
                    includes: "Personnel, operations and maintenance, procurement, military research and development, military construction, military aid",
                    value: "US$2.718 trillion",
                    source: "SIPRI (Stockholm International Peace Research Institute)"
                },
                foodwaste: {
                    name: "Food loss and waste",
                    shareableName: "food waste",
                    total: 1000000000000,
                    includes: "Food loss along the food supply chain from harvest up to, but not including, the retail level<br>Food waste at the retail and consumption levels",
                    value: "US$1.0 trillion",
                    source: "FAO (Food and Agriculture Organization of the United Nations), UNEP (UN Environment Programme)"
                },
                taxabuse: {
                    name: "Tax abuse",
                    shareableName: "tax abuse",
                    total: 492000000000,
                    includes: "Multinational corporations and wealthy individuals using tax havens to underpay tax",
                    value: "US$492 billion",
                    source: "Tax Justice Network"
                },
                fossilfuel: {
                    name: "Fossil fuel support",
                    shareableName: "fossil fuel support",
                    total: 513253000000,
                    includes: "Budgetary transfers and tax expenditures that provide a benefit or preference for fossil-fuel production or consumption",
                    value: "US$513.253 billion",
                    source: "OECD (The Organisation for Economic Co-operation and Development)"
                },
                overallluxury: {
                    name: "Overall luxury spending",
                    shareableName: "luxury spending",
                    total: 1602000000000,
                    includes: "Luxury cars, personal luxury goods, luxury hospitality, fine wines and spirits, gourmet food and fine dining, high-end furniture and housewares, fine art, private jets and yachts, luxury cruises",
                    value: "€1.48 trillion (US$1.602 trillion)",
                    source: "Bain & Company, Fondazione Altagamma",
                    conversionNote: "EUR values converted to USD using 2024 average exchange rate (1.0822)"
                },
                personalluxury: {
                    name: "Personal luxury spending",
                    shareableName: "personal luxury spending",
                    total: 393000000000,
                    includes: "Beauty, leather, apparel, watches, jewelry, shoes, other accessories (including eyewear)",
                    value: "€363 billion (US$393 billion)",
                    source: "Bain & Company, Fondazione Altagamma",
                    conversionNote: "EUR values converted to USD using 2024 average exchange rate (1.0822)"
                }
            },
            starvation: {
                peopleInNeed: 37000000,
                dailyCostPerPerson: 0.50
            },
            daysInYear: 365
        };
        const totalAnnualCost = data.starvation.peopleInNeed * data.starvation.dailyCostPerPerson * data.daysInYear;

        function getMaxPercentageForSource(sourceKey) {
            const source = data.financialSources[sourceKey];
            const maxPercentage = (totalAnnualCost / source.total) * 100;
            return maxPercentage;
        }
        let currentPercentage = 0;
        let combineSources = {
            military: 0,
            foodwaste: 0,
            taxabuse: 0,
            fossilfuel: 0,
            overallluxury: 0,
            personalluxury: 0
        };
        let resetCombineSourcesFunc, resetPickSourceFunc;
        document.addEventListener('DOMContentLoaded', () => {
            const slider = document.getElementById('neuro-slider');
            const dropdownOverlay = document.createElement('div');
            dropdownOverlay.className = 'dropdown-overlay';
            document.body.appendChild(dropdownOverlay);
            const thumb = document.getElementById('neuro-thumb');
            const fill = document.getElementById('neuro-fill');
            const twitterShareBtn = document.getElementById('twitter-share');
            const facebookShareBtn = document.getElementById('facebook-share');
            const linkedinShareBtn = document.getElementById('linkedin-share');
            const dropdownToggle = document.getElementById('dropdown-toggle');
            const dropdownMenu = document.getElementById('dropdown-menu');
            const transferPercentageDiv = document.getElementById('transfer-percentage');
            const reductionValueDiv = document.getElementById('reduction-value');
            const modals = {
                transfer: document.getElementById('transfer-modal'),
                reduction: document.getElementById('reduction-modal'),
                support: document.getElementById('support-modal'),
                about: document.getElementById('about-modal')
            };
            const transferName = document.getElementById('transfer-name');
            const transferIncludes = document.getElementById('transfer-includes');
            const transferValue = document.getElementById('transfer-value');
            const transferSource = document.getElementById('transfer-source');
            let isDragging = false;

            function setupNeuroSlider() {
                function updateSlider(percentage) {
                    currentPercentage = percentage;
                    const selectedValue = dropdownToggle.dataset.value || 'military';
                    const maxPercentage = getMaxPercentageForSource(selectedValue);
                    slider.style.setProperty('--neuro-duration', '0s');
                    const sliderPosition = (percentage / maxPercentage) * 100;
                    thumb.style.left = `${sliderPosition}%`;
                    fill.style.width = `${sliderPosition}%`;
                    calculateImpact();
                    if (percentage > 0 && resetCombineSourcesFunc) {
                        resetCombineSourcesFunc();
                    }
                    updateSocialLinks();
                }

                function getPercentageFromEvent(e, containerRect) {
                    const clientX = e.type.includes('touch') ? e.touches[0].clientX : e.clientX;
                    const x = clientX - containerRect.left;
                    const sliderPosition = Math.max(0, Math.min(100, (x / containerRect.width) * 100));
                    const selectedValue = dropdownToggle.dataset.value || 'military';
                    const maxPercentage = getMaxPercentageForSource(selectedValue);
                    return (sliderPosition / 100) * maxPercentage;
                }

                function startDrag(e) {
                    e.preventDefault();
                    isDragging = true;
                    const containerRect = slider.getBoundingClientRect();
                    const percentage = getPercentageFromEvent(e, containerRect);
                    updateSlider(percentage);
                }

                function drag(e) {
                    if (!isDragging) return;
                    e.preventDefault();
                    const containerRect = slider.getBoundingClientRect();
                    const percentage = getPercentageFromEvent(e, containerRect);
                    updateSlider(percentage);
                }

                function endDrag() {
                    isDragging = false;
                }
                slider.addEventListener('mousedown', startDrag);
                document.addEventListener('mousemove', drag);
                document.addEventListener('mouseup', endDrag);
                slider.addEventListener('touchstart', startDrag);
                document.addEventListener('touchmove', drag);
                document.addEventListener('touchend', endDrag);
            }

            function updateTransferModal() {
                const selectedValue = dropdownToggle.dataset.value || 'military';
                const selectedSource = data.financialSources[selectedValue];
                transferName.textContent = selectedSource.name;
                transferIncludes.innerHTML = selectedSource.includes;
                transferValue.innerHTML = selectedSource.value;
                if (selectedSource.conversionNote) {
                    transferValue.innerHTML += '<br><span class="conversion-note">' + selectedSource.conversionNote + '</span>';
                }
                transferSource.textContent = selectedSource.source;
            }

            function calculateImpact() {
                const selectedValue = dropdownToggle.dataset.value || 'military';
                const selectedSource = data.financialSources[selectedValue];
                const actualPercentage = currentPercentage;
                transferPercentageDiv.textContent = actualPercentage >= 10 ? actualPercentage.toFixed(1) + '%' : actualPercentage.toFixed(2) + '%';
                updateTransferModal();
                if (actualPercentage === 0) {
                    reductionValueDiv.textContent = '0.00%';
                    return;
                }
                const redistributedAmount = selectedSource.total * (actualPercentage / 100);
                let reductionPercentage = (redistributedAmount / totalAnnualCost) * 100;
                let displayPercentage = Math.min(100, reductionPercentage);
                if (displayPercentage >= 99.99) {
                    reductionValueDiv.textContent = '100%';
                } else {
                    reductionValueDiv.textContent = displayPercentage >= 10 ? displayPercentage.toFixed(1) + '%' : displayPercentage.toFixed(2) + '%';
                }
            }

            function updateSocialLinks() {
                const activeSection = Object.values(combineSources).some(percentage => percentage > 0) ? 'combine' : 'single';
                const baseUrl = 'https://redistributed.net';
                const selectedValue = dropdownToggle.dataset.value || 'military';
                const selectedSource = data.financialSources[selectedValue];
                if (activeSection === 'single') {
                    const twitterText = `Just ${currentPercentage.toFixed(2)}% of ${selectedSource.shareableName} could reduce starvation by ${reductionValueDiv.textContent}. Pick a source, see the impact:`;
                    twitterShareBtn.href = `https://twitter.com/intent/tweet?text=${encodeURIComponent(twitterText)}&url=${encodeURIComponent(baseUrl)}`;
                } else {
                    const twitterText = `Just a fraction of existing resources could end starvation. Combine sources, see the impact:`;
                    twitterShareBtn.href = `https://twitter.com/intent/tweet?text=${encodeURIComponent(twitterText)}&url=${encodeURIComponent(baseUrl)}`;
                }
                facebookShareBtn.href = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(baseUrl)}`;
                linkedinShareBtn.href = `https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(baseUrl)}`;
            }

            function resetSliderForNewSource() {
                const MAX_TIME = 0.8;
                if (currentPercentage > 0) {
                    slider.style.setProperty('--neuro-duration', MAX_TIME + 's');
                    setTimeout(() => {
                        slider.style.setProperty('--neuro-duration', '0s');
                    }, MAX_TIME * 1000 + 50);
                } else {
                    slider.style.setProperty('--neuro-duration', '0s');
                }
                currentPercentage = 0;
                thumb.style.left = '0%';
                fill.style.width = '0%';
                calculateImpact();
                updateSocialLinks();
            }
            document.getElementById('transfer-info').addEventListener('click', () => openModal(modals.transfer));
            document.getElementById('reduction-info').addEventListener('click', () => openModal(modals.reduction));
            document.getElementById('combine-impact-info').addEventListener('click', () => openModal(modals.reduction));
            document.getElementById('about-link').addEventListener('click', (e) => {
                e.preventDefault();
                openModal(modals.about);
            });
            document.getElementById('support-link').addEventListener('click', (e) => {
                e.preventDefault();
                openModal(modals.support);
            });
            dropdownToggle.addEventListener('click', () => {
                dropdownMenu.classList.toggle('open');
                dropdownToggle.classList.toggle('open');
                dropdownOverlay.classList.toggle('active');
            });
            dropdownMenu.addEventListener('click', (e) => {
                if (e.target.tagName === 'LI') {
                    const selectedValue = e.target.dataset.value;
                    dropdownToggle.textContent = e.target.textContent;
                    dropdownToggle.dataset.value = selectedValue;
                    dropdownMenu.classList.remove('open');
                    dropdownToggle.classList.remove('open');
                    dropdownOverlay.classList.remove('active');
                    resetSliderForNewSource();
                }
            });
            let scrollbarWidth = null;

            function getScrollbarWidth() {
                if (scrollbarWidth !== null) return scrollbarWidth;
                scrollbarWidth = window.innerWidth - document.documentElement.clientWidth;
                if (scrollbarWidth === 0) {
                    const outer = document.createElement('div');
                    outer.style.cssText = 'visibility:hidden;overflow:scroll;position:absolute;top:-9999px;width:100px;height:100px';
                    document.body.appendChild(outer);
                    const inner = document.createElement('div');
                    inner.style.width = '100%';
                    outer.appendChild(inner);
                    scrollbarWidth = outer.offsetWidth - inner.offsetWidth;
                    document.body.removeChild(outer);
                }
                return scrollbarWidth;
            }

            function openModal(modal) {
                const scrollWidth = getScrollbarWidth();
                if (scrollWidth > 0) {
                    document.body.style.paddingRight = `${scrollWidth}px`;
                }
                document.body.style.overflow = 'hidden';
                modal.style.display = 'block';
            }

            function closeModal(modal) {
                document.body.style.paddingRight = '';
                document.body.style.overflow = 'auto';
                modal.style.display = 'none';
            }
            document.querySelectorAll('.modal-close').forEach(closeBtn => {
                closeBtn.addEventListener('click', (e) => {
                    closeModal(e.target.closest('.modal-overlay'));
                });
            });
            document.querySelectorAll('.modal-overlay').forEach(modal => {
                modal.addEventListener('click', (e) => {
                    if (e.target === modal) closeModal(modal);
                });
            });
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') {
                    document.querySelectorAll('.modal-overlay').forEach(modal => {
                        if (modal.style.display === 'block') closeModal(modal);
                    });
                }
            });
            document.addEventListener('click', (e) => {
                if (!dropdownToggle.contains(e.target) && !dropdownMenu.contains(e.target)) {
                    dropdownMenu.classList.remove('open');
                    dropdownToggle.classList.remove('open');
                    dropdownOverlay.classList.remove('active');
                }
            });
            setupNeuroSlider();
            currentPercentage = 0;
            thumb.style.left = '0%';
            fill.style.width = '0%';
            calculateImpact();
            updateSocialLinks();
            const combineImpactValue = document.getElementById('combine-impact-value');

            function getSourceImpact(key, percentage) {
                const sourceTotal = data.financialSources[key].total;
                const redistributedAmount = sourceTotal * (percentage / 100);
                return (redistributedAmount / totalAnnualCost) * 100;
            }

            function updateCombineDisplay() {
                let totalImpact = 0;
                for (const [key, percentage] of Object.entries(combineSources)) {
                    totalImpact += getSourceImpact(key, percentage);
                }
                const displayImpact = Math.min(100, totalImpact);
                combineImpactValue.textContent = displayImpact >= 99.99 ? '100%' :
                    (displayImpact >= 10 ? displayImpact.toFixed(1) + '%' : displayImpact.toFixed(2) + '%');
            }

            function resetCombine() {
                const MAX_TIME = 0.8;
                let needsAnimation = false;
                for (const key in combineSources) {
                    if (combineSources[key] > 0) {
                        needsAnimation = true;
                        break;
                    }
                }
                for (const key in combineSources) {
                    const container = document.querySelector(`.combine-slider[data-source="${key}"]`);
                    const thumb = container.querySelector('.combine-thumb');
                    const fill = container.querySelector('.combine-fill');
                    const valueDisplay = document.getElementById(`combine-${key}-value`);
                    const durationString = (combineSources[key] > 0 && needsAnimation) ? MAX_TIME + 's' : '0s';
                    container.style.setProperty('--combine-duration', durationString);
                    combineSources[key] = 0;
                    thumb.style.left = '0%';
                    fill.style.width = '0%';
                    valueDisplay.textContent = '0.00%';
                }
                if (needsAnimation) {
                    setTimeout(() => {
                        for (const key in combineSources) {
                            const container = document.querySelector(`.combine-slider[data-source="${key}"]`);
                            container.style.setProperty('--combine-duration', '0s');
                        }
                    }, MAX_TIME * 1000 + 50);
                }
                updateCombineDisplay();
                updateSocialLinks();
            }

            function getTotalImpact() {
                let total = 0;
                for (const [sourceKey, percentage] of Object.entries(combineSources)) {
                    total += getSourceImpact(sourceKey, percentage);
                }
                return total;
            }

            function setupCombineSlider(key) {
                const container = document.querySelector(`.combine-slider[data-source="${key}"]`);
                const thumb = container.querySelector('.combine-thumb');
                const fill = container.querySelector('.combine-fill');
                const valueDisplay = document.getElementById(`combine-${key}-value`);
                let isDragging = false;

                function updateSliderPosition(percentage) {
                    container.style.setProperty('--combine-duration', '0s');
                    const currentTotalImpact = getTotalImpact();
                    const currentSourceImpact = getSourceImpact(key, combineSources[key]);
                    const newSourceImpact = getSourceImpact(key, percentage);
                    const potentialTotalImpact = currentTotalImpact - currentSourceImpact + newSourceImpact;
                    if (potentialTotalImpact > 100) {
                        const maxAllowedImpact = 100 - (currentTotalImpact - currentSourceImpact);
                        if (maxAllowedImpact <= 0) {
                            return;
                        }
                        const sourceTotal = data.financialSources[key].total;
                        const maxAllowedPercentage = (maxAllowedImpact * totalAnnualCost) / sourceTotal;
                        percentage = Math.min(percentage, maxAllowedPercentage);
                    }
                    const maxPercentage = getMaxPercentageForSource(key);
                    const adjustedPercentage = Math.max(0, Math.min(percentage, maxPercentage));
                    combineSources[key] = adjustedPercentage;
                    const sliderPosition = (adjustedPercentage / maxPercentage) * 100;
                    thumb.style.left = `${sliderPosition}%`;
                    fill.style.width = `${sliderPosition}%`;
                    valueDisplay.textContent = adjustedPercentage >= 10 ?
                        adjustedPercentage.toFixed(1) + '%' : adjustedPercentage.toFixed(2) + '%';
                    updateCombineDisplay();
                    if (adjustedPercentage > 0 && resetPickSourceFunc) {
                        resetPickSourceFunc();
                    }
                    updateSocialLinks();
                }

                function getPercentageFromEvent(e) {
                    const rect = container.getBoundingClientRect();
                    const clientX = e.type.includes('touch') ? e.touches[0].clientX : e.clientX;
                    const x = clientX - rect.left;
                    const sliderPosition = Math.max(0, Math.min(100, (x / rect.width) * 100));
                    const maxPercentage = getMaxPercentageForSource(key);
                    return (sliderPosition / 100) * maxPercentage;
                }

                function startDrag(e) {
                    const currentTotalImpact = getTotalImpact();
                    if (currentTotalImpact >= 100 && combineSources[key] === 0) {}
                    e.preventDefault();
                    isDragging = true;
                    updateSliderPosition(getPercentageFromEvent(e));
                }

                function drag(e) {
                    if (!isDragging) return;
                    e.preventDefault();
                    updateSliderPosition(getPercentageFromEvent(e));
                }

                function endDrag() {
                    isDragging = false;
                }
                container.addEventListener('mousedown', startDrag);
                document.addEventListener('mousemove', drag);
                document.addEventListener('mouseup', endDrag);
                container.addEventListener('touchstart', startDrag);
                document.addEventListener('touchmove', drag);
                container.addEventListener('touchend', endDrag);
            }
            Object.keys(combineSources).forEach(setupCombineSlider);
            resetCombineSourcesFunc = resetCombine;
            resetPickSourceFunc = resetSliderForNewSource;
            updateCombineDisplay();
        });
    </script>
</body>
</html>
